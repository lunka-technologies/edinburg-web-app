!function(n){function e(n){var e=RegExp(/^#.*/);return"string"!=typeof n?null:document.getElementById(e.test(n)?n.substr(1):n)}function t(n){return void 0!==n.contentWindow.marvin?n.contentWindow.marvin:null}!("Promise"in n)&&"ES6Promise"in n&&"polyfill"in n.ES6Promise&&n.ES6Promise.polyfill(),n.MarvinJSUtil={getEditor:function n(i){return new Promise(function n(r,o){!function n(i,r,o){if(null==i){o("Element id can not be null.");return}var a=e(i);if(null==a){o("Unable to get element with id: "+i);return}var c=t(a);c?c.onReady(function(){if(void 0!==c.sketcherInstance){r(t(a).sketcherInstance);return}o("Unable to find sketcherInstance in element with id: "+i)}):a.addEventListener("load",function n(e){var c=t(a);c?c.onReady(function(){void 0!==c.sketcherInstance?r(c.sketcherInstance):o("Unable to find sketcherInstance in iframe with id: "+i)}):o("Unable to find marvin package, cannot retrieve sketcher instance")})}(i,r,o)})},getPackage:function n(i){return new Promise(function n(r,o){!function n(i,r,o){if(null==i){o("Element id can not be null.");return}var a=e(i);if(null==a){o("Unable to get element with id: "+i);return}var c=t(a);c?c.onReady(function(){r(c)}):a.addEventListener("load",function n(e){var i=t(a);i?i.onReady(function(){r(i)}):o("Unable to find marvin package")})}(i,r,o)})}}}(window);